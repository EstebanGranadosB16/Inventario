<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Gesti칩n de Inventario{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> {# Asegurarse de que el viewport est칠 aqu칤 #}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    {# Aqu칤 puedes a침adir otros enlaces CSS o JS que sean globales para todas las p치ginas #}
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script> {# Boxicons es global #}
</head>
<body>

<!-- Sidebar -->

    {# Contenedor principal para el layout de sidebar y contenido #}
    <div class="d-flex"> {# Usa d-flex de Bootstrap para el layout #}

        <div class="sidebar">
            <img src="https://s3.amazonaws.com/blab-impact-published-production/jUes7SjKK5W76xyP9y2fuzkSpLVSOezp" alt="Logo" height="170px">
            <a href="{{ url_for('index') }}"><box-icon name='package'></box-icon> Inventario</a>

            <div class="mt-4 px-3">
                <h6 class="text-muted">M칩dulos</h6>
                {% for modulo in modulos_disponibles %}
                    <a class="d-block ms-2 {% if modulo == modulo_actual %}fw-bold text-primary{% endif %}"
                       href="{{ url_for('modulos.ver_modulo', modulo=modulo) }}">
                        游늬 {{ modulo }}
                    </a>
                {% else %}
                    <span class="text-muted ms-2">Sin m칩dulos</span>
                {% endfor %}
            </div>

            <a href="#"><box-icon name='bar-chart-alt-2'></box-icon> Reportes</a> {# 칈cono para reportes #}
            <a href="#"><box-icon name='cog'></box-icon> Configuraci칩n</a> {# 칈cono para configuraci칩n #}
            <a href="#"><box-icon name='group'></box-icon> Usuarios</a> {# 칈cono para usuarios #}
        </div>

        <div class="content">
            {% block content %}
            {# Aqu칤 es donde se inyectar치 el contenido espec칤fico de cada p치gina #}
            {% endblock %}
        </div>

    </div> {# Cierre del div d-flex #}

    {# Scripts globales que deben cargarse al final del body #}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    {# Este bloque es para scripts espec칤ficos de cada p치gina que extiende base.html #}
    {% block scripts %}{% endblock %}

    {# Script para SweetAlert (si es global, puede ir aqu칤 o en un archivo JS global) #}
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    Swal.fire({
                        icon: '{{ 'success' if category == 'success' else 'error' }}',
                        title: '{{ '칄xito' if category == 'success' else 'Error' }}',
                        text: '{{ message }}',
                        timer: 3000,
                        timerProgressBar: true,
                        showConfirmButton: false
                    });
                {% endfor %}
            {% endif %}
        {% endwith %}
    });
    </script>

</body>
</html>